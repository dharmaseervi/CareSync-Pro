{"ast":null,"code":"import React,{useState}from'react';import Box from'@mui/material/Box';import Avatar from'@mui/material/Avatar';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import ListItemIcon from'@mui/material/ListItemIcon';import Divider from'@mui/material/Divider';import IconButton from'@mui/material/IconButton';import Tooltip from'@mui/material/Tooltip';import Logout from'@mui/icons-material/Logout';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=props=>{console.log(props.firstLetter);const navigate=useNavigate();const[anchorEl,setAnchorEl]=React.useState(null);const open=Boolean(anchorEl);const handleClick=event=>{setAnchorEl(event.currentTarget);};const handleClose=()=>{setAnchorEl(null);};const handleLogout=async()=>{try{const response=await fetch('http://localhost:5050/auth/logout',{method:'POST',credentials:'include',// Send cookies with the request\nheaders:{'Content-Type':'application/json'}});if(response.ok){localStorage.removeItem('authToken');props.setLogin(false);navigate('/login');}else{console.error('Error during logout:',response.statusText);}}catch(error){console.error('Error during logout:',error.message);}};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',textAlign:'center'},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Account settings\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleClick,size:\"small\",sx:{ml:2},\"aria-controls\":open?'account-menu':undefined,\"aria-haspopup\":\"true\",\"aria-expanded\":open?'true':undefined,children:/*#__PURE__*/_jsx(Avatar,{sx:{width:40,height:40,textTransform:'capitalize'},children:props.firstLetter})})})}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,id:\"account-menu\",open:open,onClose:handleClose,onClick:handleClose,PaperProps:{elevation:0,sx:{overflow:'visible',filter:'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',mt:1.5,'& .MuiAvatar-root':{width:40,height:35,ml:-0.5,mr:1},'&:before':{content:'\"\"',display:'block',position:'absolute',top:0,right:14,width:10,height:10,bgcolor:'background.paper',transform:'translateY(-50%) rotate(45deg)',zIndex:0}}},transformOrigin:{horizontal:'right',vertical:'top'},anchorOrigin:{horizontal:'right',vertical:'bottom'},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,className:\"d-flex justify-content-start \",children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'black'},to:'/profile',children:\"Profile\"})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,className:\"d-flex justify-content-start \",children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'black'},to:'/appointment',children:\"Appointment\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,className:\"d-flex justify-content-center \",children:/*#__PURE__*/_jsxs(ListItemIcon,{onClick:handleLogout,className:\"d-flex gap-2 \",children:[/*#__PURE__*/_jsx(Logout,{fontSize:\"small\"}),\"Logout\"]})})]})]});};export default UserProfile;","map":{"version":3,"names":["React","useState","Box","Avatar","Menu","MenuItem","ListItemIcon","Divider","IconButton","Tooltip","Logout","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","UserProfile","props","console","log","firstLetter","navigate","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","handleLogout","response","fetch","method","credentials","headers","ok","localStorage","removeItem","setLogin","error","statusText","message","Fragment","children","sx","display","alignItems","textAlign","title","onClick","size","ml","undefined","width","height","textTransform","id","onClose","PaperProps","elevation","overflow","filter","mt","mr","content","position","top","right","bgcolor","transform","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","className","style","textDecoration","color","to","fontSize"],"sources":["/Users/dharmaseervi/Desktop/CareSync-Pro/client-side/src/components/UserProfile.js"],"sourcesContent":["import React, { useState } from 'react'\nimport Box from '@mui/material/Box';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport Tooltip from '@mui/material/Tooltip';\nimport Logout from '@mui/icons-material/Logout';\nimport { Link, useNavigate } from 'react-router-dom';\n\n\nconst UserProfile = (props) => {\n    console.log(props.firstLetter);\n    const navigate = useNavigate();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleLogout = async () => {\n        try {\n            const response = await fetch('http://localhost:5050/auth/logout', {\n                method: 'POST',\n                credentials: 'include', // Send cookies with the request\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            });\n\n            if (response.ok) {\n                localStorage.removeItem('authToken');\n                props.setLogin(false)\n                navigate('/login');\n            } else {\n                console.error('Error during logout:', response.statusText);\n            }\n        } catch (error) {\n            console.error('Error during logout:', error.message);\n        }\n    };\n\n\n    return (\n        <React.Fragment>\n            <Box sx={{ display: 'flex', alignItems: 'center', textAlign: 'center' }}>\n\n                <Tooltip title=\"Account settings\">\n                    <IconButton\n                        onClick={handleClick}\n                        size=\"small\"\n                        sx={{ ml: 2 }}\n                        aria-controls={open ? 'account-menu' : undefined}\n                        aria-haspopup=\"true\"\n                        aria-expanded={open ? 'true' : undefined}\n                    >\n                        <Avatar sx={{ width: 40, height: 40, textTransform: 'capitalize' }}>{props.firstLetter}</Avatar>\n                    </IconButton>\n                </Tooltip>\n            </Box>\n            <Menu\n                anchorEl={anchorEl}\n                id=\"account-menu\"\n                open={open}\n                onClose={handleClose}\n                onClick={handleClose}\n                PaperProps={{\n                    elevation: 0,\n                    sx: {\n                        overflow: 'visible',\n                        filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n                        mt: 1.5,\n                        '& .MuiAvatar-root': {\n                            width: 40,\n                            height: 35,\n                            ml: -0.5,\n                            mr: 1,\n                        },\n                        '&:before': {\n                            content: '\"\"',\n                            display: 'block',\n                            position: 'absolute',\n                            top: 0,\n                            right: 14,\n                            width: 10,\n                            height: 10,\n                            bgcolor: 'background.paper',\n                            transform: 'translateY(-50%) rotate(45deg)',\n                            zIndex: 0,\n                        },\n                    },\n                }}\n                transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n                anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n            >\n                <MenuItem onClick={handleClose} className='d-flex justify-content-start '>\n\n                    <Link style={{ textDecoration: 'none', color: 'black' }} to={'/profile'}>Profile</Link>\n                </MenuItem>\n                <MenuItem onClick={handleClose} className='d-flex justify-content-start '>\n\n                    <Link style={{ textDecoration: 'none', color: 'black' }} to={'/appointment'}>Appointment</Link>\n                </MenuItem>\n                <Divider />\n                <MenuItem onClick={handleClose} className='d-flex justify-content-center '>\n                    <ListItemIcon onClick={handleLogout} className='d-flex gap-2 ' >\n                        <Logout fontSize=\"small\" />\n                        Logout\n                    </ListItemIcon>\n                </MenuItem>\n            </Menu>\n        </React.Fragment>\n    );\n}\n\nexport default UserProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}