{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import FirstPage from\"../components/FirstPage\";import SecondPage from\"../components/SecondPage\";import ThirdPage from\"../components/ThirdPage\";import SuccessPage from\"../components/Successful\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(props){const fetchSession=async()=>{try{let apiBaseUrl='https://caresync-pro.onrender.com';// let apiBaseUrl = 'http://localhost:5050';\nconst response=await fetch(\"\".concat(apiBaseUrl,\"/auth/validatesession\"),{credentials:\"include\",mode:'cors',headers:{'Access-Control-Allow-Origin':'*'}});if(response.status===200){console.log(\"Success: Session is valid\");}else{console.log(\"Unauthorized: Session is invalid\");window.location.href=\"/login\";}}catch(error){console.error(\"Error during session validation:\",error.message);}};fetchSession();useEffect(()=>{// If userID is available in props, update appointmentData\nif(props.userID.userID){setAppointmentData({userId:props.userID.userID});}},[props.userID.userID]);const[nextDates,setNextDates]=useState(5);const[appointmentData,setAppointmentData]=useState({userId:props.userID.userID});const[currentPage,setCurrentPage]=useState(\"firstpage\");const[loading,setLoading]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"res-bookings d-flex flex-column  mx-auto  mt-5 justify-content-center align-items-center bg-light bg-opacity-25 p-3  border border-dark  m-3 \",style:{height:\"100%\",width:'98%',borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-2\",children:\"Appointment Booking\"}),currentPage===\"firstpage\"?/*#__PURE__*/_jsx(FirstPage,{setCurrentPage:setCurrentPage,setAppointmentData:setAppointmentData,appointmentData:appointmentData,nextDates:nextDates,setNextDates:setNextDates}):null,currentPage===\"secondpage\"?/*#__PURE__*/_jsx(SecondPage,{setCurrentPage:setCurrentPage,setAppointmentData:setAppointmentData,appointmentData:appointmentData}):null,currentPage===\"thirdpage\"?/*#__PURE__*/_jsx(ThirdPage,{setCurrentPage:setCurrentPage,setAppointmentData:setAppointmentData,appointmentData:appointmentData,setLoading:setLoading}):null,currentPage===\"success\"?/*#__PURE__*/_jsx(SuccessPage,{loading:loading}):null]});}","map":{"version":3,"names":["React","useEffect","useState","FirstPage","SecondPage","ThirdPage","SuccessPage","jsx","_jsx","jsxs","_jsxs","Form","props","fetchSession","apiBaseUrl","response","fetch","concat","credentials","mode","headers","status","console","log","window","location","href","error","message","userID","setAppointmentData","userId","nextDates","setNextDates","appointmentData","currentPage","setCurrentPage","loading","setLoading","className","style","height","width","borderRadius","children"],"sources":["/Users/dharmaseervi/Desktop/CareSync-Pro/client-side/src/pages/Booking.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport FirstPage from \"../components/FirstPage\";\nimport SecondPage from \"../components/SecondPage\";\nimport ThirdPage from \"../components/ThirdPage\";\nimport SuccessPage from \"../components/Successful\";\n\nexport default function Form(props) {\n    const fetchSession = async () => {\n        try {\n            let apiBaseUrl = 'https://caresync-pro.onrender.com';\n            // let apiBaseUrl = 'http://localhost:5050';\n            const response = await fetch(`${apiBaseUrl}/auth/validatesession`, {\n                credentials: \"include\",\n                mode: 'cors',\n                headers: {\n                    'Access-Control-Allow-Origin': '*'\n                }\n            });\n            if (response.status === 200) {\n                console.log(\"Success: Session is valid\");\n            } else {\n                console.log(\"Unauthorized: Session is invalid\");\n                window.location.href = \"/login\"\n            }\n        } catch (error) {\n            console.error(\"Error during session validation:\", error.message);\n        }\n    };\n\n    fetchSession();\n    useEffect(() => {\n        // If userID is available in props, update appointmentData\n        if (props.userID.userID) {\n            setAppointmentData({\n                userId: props.userID.userID\n            });\n        }\n    }, [props.userID.userID]);\n    const [nextDates, setNextDates] = useState(5);\n    const [appointmentData, setAppointmentData] = useState({\n        userId: props.userID.userID\n    });\n\n    const [currentPage, setCurrentPage] = useState(\"firstpage\");\n    const [loading, setLoading] = useState(false);\n\n\n    return (\n        <div\n            className=\"res-bookings d-flex flex-column  mx-auto  mt-5 justify-content-center align-items-center bg-light bg-opacity-25 p-3  border border-dark  m-3 \"\n            style={{ height: \"100%\", width: '98%', borderRadius: \"10px\" }}\n        >\n            <h2 className=\"mt-2\">Appointment Booking</h2>\n            {currentPage === \"firstpage\" ? (\n                <FirstPage\n                    setCurrentPage={setCurrentPage}\n                    setAppointmentData={setAppointmentData}\n                    appointmentData={appointmentData}\n                    nextDates={nextDates}\n                    setNextDates={setNextDates}\n                />\n            ) : null}\n            {currentPage === \"secondpage\" ? (\n                <SecondPage\n                    setCurrentPage={setCurrentPage}\n                    setAppointmentData={setAppointmentData}\n                    appointmentData={appointmentData}\n                />\n            ) : null}\n            {currentPage === \"thirdpage\" ? (\n                <ThirdPage\n                    setCurrentPage={setCurrentPage}\n                    setAppointmentData={setAppointmentData}\n                    appointmentData={appointmentData}\n                    setLoading={setLoading}\n                />\n            ) : null}\n            {currentPage === \"success\" ? <SuccessPage loading={loading} /> : null}\n        </div>\n    );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,cAAe,SAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CAChC,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,GAAI,CAAAC,UAAU,CAAG,mCAAmC,CACpD;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIH,UAAU,0BAAyB,CAC/DI,WAAW,CAAE,SAAS,CACtBC,IAAI,CAAE,MAAM,CACZC,OAAO,CAAE,CACL,6BAA6B,CAAE,GACnC,CACJ,CAAC,CAAC,CACF,GAAIL,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CACzBC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC5C,CAAC,IAAM,CACHD,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CAC/CC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACnC,CACJ,CAAE,MAAOC,KAAK,CAAE,CACZL,OAAO,CAACK,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAACC,OAAO,CAAC,CACpE,CACJ,CAAC,CAEDf,YAAY,CAAC,CAAC,CACdZ,SAAS,CAAC,IAAM,CACZ;AACA,GAAIW,KAAK,CAACiB,MAAM,CAACA,MAAM,CAAE,CACrBC,kBAAkB,CAAC,CACfC,MAAM,CAAEnB,KAAK,CAACiB,MAAM,CAACA,MACzB,CAAC,CAAC,CACN,CACJ,CAAC,CAAE,CAACjB,KAAK,CAACiB,MAAM,CAACA,MAAM,CAAC,CAAC,CACzB,KAAM,CAACG,SAAS,CAAEC,YAAY,CAAC,CAAG/B,QAAQ,CAAC,CAAC,CAAC,CAC7C,KAAM,CAACgC,eAAe,CAAEJ,kBAAkB,CAAC,CAAG5B,QAAQ,CAAC,CACnD6B,MAAM,CAAEnB,KAAK,CAACiB,MAAM,CAACA,MACzB,CAAC,CAAC,CAEF,KAAM,CAACM,WAAW,CAAEC,cAAc,CAAC,CAAGlC,QAAQ,CAAC,WAAW,CAAC,CAC3D,KAAM,CAACmC,OAAO,CAAEC,UAAU,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CAG7C,mBACIQ,KAAA,QACI6B,SAAS,CAAC,+IAA+I,CACzJC,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,KAAK,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAC,QAAA,eAE9DpC,IAAA,OAAI+B,SAAS,CAAC,MAAM,CAAAK,QAAA,CAAC,qBAAmB,CAAI,CAAC,CAC5CT,WAAW,GAAK,WAAW,cACxB3B,IAAA,CAACL,SAAS,EACNiC,cAAc,CAAEA,cAAe,CAC/BN,kBAAkB,CAAEA,kBAAmB,CACvCI,eAAe,CAAEA,eAAgB,CACjCF,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEA,YAAa,CAC9B,CAAC,CACF,IAAI,CACPE,WAAW,GAAK,YAAY,cACzB3B,IAAA,CAACJ,UAAU,EACPgC,cAAc,CAAEA,cAAe,CAC/BN,kBAAkB,CAAEA,kBAAmB,CACvCI,eAAe,CAAEA,eAAgB,CACpC,CAAC,CACF,IAAI,CACPC,WAAW,GAAK,WAAW,cACxB3B,IAAA,CAACH,SAAS,EACN+B,cAAc,CAAEA,cAAe,CAC/BN,kBAAkB,CAAEA,kBAAmB,CACvCI,eAAe,CAAEA,eAAgB,CACjCI,UAAU,CAAEA,UAAW,CAC1B,CAAC,CACF,IAAI,CACPH,WAAW,GAAK,SAAS,cAAG3B,IAAA,CAACF,WAAW,EAAC+B,OAAO,CAAEA,OAAQ,CAAE,CAAC,CAAG,IAAI,EACpE,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}