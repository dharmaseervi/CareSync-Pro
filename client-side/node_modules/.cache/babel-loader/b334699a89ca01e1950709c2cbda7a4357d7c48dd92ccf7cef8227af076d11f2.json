{"ast":null,"code":"import React,{useEffect,useState}from'react';import loginImg from'../assets/login.png';import{Link}from'react-router-dom';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(props){const[windowWidth,setWindowWidth]=useState(window.innerWidth);useEffect(()=>{const changeWidth=()=>{setWindowWidth(window.innerWidth);};window.addEventListener('resize',changeWidth);return()=>{window.removeEventListener('resize',changeWidth);};},[]);const navigate=useNavigate();const[successMessage,setSuccessMessage]=useState('');const[user,setUser]=useState({firstName:'',lastName:'',email:'',password:''});const handleChange=event=>{const{name,value}=event.target;setUser(prevFormData=>({...prevFormData,[name]:value}));};const handleSignUp=async()=>{try{const response=await fetch('http://localhost:5050/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)});if(response.status===201){const data=await response.json();console.log('User registered successfully:',data);setSuccessMessage('Registration successful. Redirecting to login...');setTimeout(()=>{setSuccessMessage('');navigate('/login');// Redirect to the login page or any desired route\n},2000);}else if(response.status===401){console.log('User already exists');}else{const errorData=await response.json();console.error('Error during registration:',errorData.message);}}catch(error){console.error('Error during registration:',error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"res-signup d-flex justify-content-center  align-items-center m-3 mx-auto \",style:{height:'80vh',width:\"80%\"},children:[windowWidth>800&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex border  justify-content-center  flex-column align-items-center gap-2 \",style:{width:'50%',height:'70vh'},children:/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%'},src:loginImg,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\" res-signup-form d-flex border justify-content-center flex-column align-items-center gap-2 bg-secondary bg-opacity-25\",style:{width:'50%',height:'70vh'},children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"d-flex justify-content-center align-items-center  flex-column w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-1\",style:{width:\"80%\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstname\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded border border-black p-2 bg-transparent\",type:\"text\",name:\"firstName\",value:user.firstName,onChange:handleChange,id:\"\",placeholder:\"Enter your First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-1\",style:{width:\"80%\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded border border-black p-2 bg-transparent\",type:\"text\",name:\"lastName\",id:\"\",value:user.lastName,onChange:handleChange,placeholder:\"Enter your Last Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-1\",style:{width:\"80%\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded border border-black p-2 bg-transparent\",type:\"email\",name:\"email\",id:\"\",value:user.email,onChange:handleChange,placeholder:\"Enter your email id\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-1\",style:{width:\"80%\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded border border-black p-2 bg-transparent\",type:\"password\",name:\"password\",id:\"\",value:user.password,onChange:handleChange,placeholder:\"Enter your password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{width:\"80%\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-2 \",type:\"button\",onClick:handleSignUp,style:{width:'100%'},children:\"Sign Up\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ps-1 mt-3\",style:{fontWeight:500},children:[\"Already have Acc ? \",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:\"none\",color:\"green\"},children:\"Login\"})})]}),successMessage&&/*#__PURE__*/_jsx(\"p\",{children:successMessage}),\"\\u02DB\"]})})]});}","map":{"version":3,"names":["React","useEffect","useState","loginImg","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Signup","props","windowWidth","setWindowWidth","window","innerWidth","changeWidth","addEventListener","removeEventListener","navigate","successMessage","setSuccessMessage","user","setUser","firstName","lastName","email","password","handleChange","event","name","value","target","prevFormData","handleSignUp","response","fetch","method","headers","body","JSON","stringify","status","data","json","console","log","setTimeout","errorData","error","message","className","style","height","width","children","src","alt","action","htmlFor","type","onChange","id","placeholder","onClick","fontWeight","to","textDecoration","color"],"sources":["/Users/dharmaseervi/Desktop/CareSync-Pro/client-side/src/pages/Signup.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport loginImg from '../assets/login.png'\nimport { Link } from 'react-router-dom'\n\nimport { useNavigate } from 'react-router-dom';\nexport default function Signup(props) {\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth)\n    useEffect(() => {\n        const changeWidth = () => {\n            setWindowWidth(window.innerWidth)\n        }\n        window.addEventListener('resize', changeWidth);\n        return () => {\n            window.removeEventListener('resize', changeWidth)\n        }\n    }, [])\n    const navigate = useNavigate();\n    const [successMessage, setSuccessMessage] = useState('');\n    const [user, setUser] = useState({\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: ''\n    });\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n        setUser((prevFormData) => ({ ...prevFormData, [name]: value }));\n\n    }\n\n\n    const handleSignUp = async () => {\n        try {\n            const response = await fetch('http://localhost:5050/auth/register', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(user),\n            });\n\n            if (response.status === 201) {\n                const data = await response.json();\n                console.log('User registered successfully:', data);\n                setSuccessMessage('Registration successful. Redirecting to login...');\n                setTimeout(() => {\n                    setSuccessMessage('');\n                    navigate('/login'); // Redirect to the login page or any desired route\n                }, 2000);\n            } else if (response.status === 401) {\n                console.log('User already exists');\n\n            } else {\n                const errorData = await response.json();\n                console.error('Error during registration:', errorData.message);\n\n            }\n        } catch (error) {\n            console.error('Error during registration:', error.message);\n        }\n\n    };\n\n\n\n\n\n    return (\n        <div className='res-signup d-flex justify-content-center  align-items-center m-3 mx-auto ' style={{ height: '80vh', width: \"80%\" }}>\n            {(windowWidth > 800) && <div className='d-flex border  justify-content-center  flex-column align-items-center gap-2 ' style={{ width: '50%', height: '70vh', }}>\n                <img style={{ width: '100%', height: '100%' }} src={loginImg} alt=\"\" />\n            </div>}\n            <div className=' res-signup-form d-flex border justify-content-center flex-column align-items-center gap-2 bg-secondary bg-opacity-25' style={{ width: '50%', height: '70vh' }}>\n                <form action=\"\" className='d-flex justify-content-center align-items-center  flex-column w-100'>\n                    <div className='d-flex flex-column gap-1' style={{ width: \"80%\" }}>\n                        <label htmlFor=\"firstname\">First Name</label>\n                        <input className='rounded border border-black p-2 bg-transparent' type=\"text\" name=\"firstName\" value={user.firstName} onChange={handleChange} id=\"\" placeholder='Enter your First Name' />\n                    </div>\n                    <div className='d-flex flex-column gap-1' style={{ width: \"80%\" }}>\n                        <label htmlFor=\"lastname\">Last Name</label>\n                        <input className='rounded border border-black p-2 bg-transparent' type=\"text\" name=\"lastName\" id=\"\" value={user.lastName} onChange={handleChange} placeholder='Enter your Last Name' />\n                    </div>\n                    <div className='d-flex flex-column gap-1' style={{ width: \"80%\" }}>\n                        <label htmlFor=\"Email\">Email</label>\n                        <input className='rounded border border-black p-2 bg-transparent' type=\"email\" name=\"email\" id=\"\" value={user.email} onChange={handleChange} placeholder='Enter your email id' />\n                    </div>\n                    <div className='d-flex flex-column gap-1' style={{ width: \"80%\" }}>\n                        <label htmlFor=\"Password\">Password</label>\n                        <input className=\"rounded border border-black p-2 bg-transparent\" type=\"password\" name=\"password\" id=\"\" value={user.password} onChange={handleChange} placeholder='Enter your password' />\n                    </div>\n                    <div className='d-flex justify-content-center align-items-center' style={{ width: \"80%\" }}>\n                        <button className='btn btn-danger mt-2 ' type='button' onClick={handleSignUp} style={{ width: '100%' }} >Sign Up</button>\n                    </div>\n                    <p className='ps-1 mt-3' style={{ fontWeight: 500 }}>Already have Acc ? <span><Link to=\"/login\" style={{ textDecoration: \"none\", color: \"green\" }}>Login</Link></span></p>\n                    {successMessage && <p>{successMessage}</p>}Ë›\n                </form>\n            </div>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}