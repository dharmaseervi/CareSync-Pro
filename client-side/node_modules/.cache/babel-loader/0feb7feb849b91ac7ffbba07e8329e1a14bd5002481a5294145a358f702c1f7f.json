{"ast":null,"code":"var _jsxFileName = \"/Users/dharmaseervi/Desktop/dharmaseervi/client-side/src/pages/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport profile from '../assets/female_doctor.webp';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = props => {\n  _s();\n  const userid = props.userID.userID;\n  console.log('userid for backend from profile', userid);\n  const [data, setData] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editedData, setEditedData] = useState({});\n  console.log(editedData);\n  const url = `http://localhost:5050/auth/userdata?data=${encodeURIComponent(userid)}`;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error('Failed to fetch user data');\n        }\n        const data = await response.json();\n        setData(data);\n        setEditedData(data); // Initialize editedData with the fetched data\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, [url]);\n  const handleSaveClick = async () => {\n    try {\n      const response = await axios.put(`/api/update-profile/${userid}`, editedData);\n      setData(response.data);\n      setEditMode(false);\n    } catch (error) {\n      console.error('Error updating user profile:', error);\n    }\n  };\n  const handleEditClick = () => {\n    setEditMode(true);\n  };\n  const handleCancelClick = () => {\n    // Reset editedData to match the current data\n    setEditedData(data);\n    setEditMode(false);\n  };\n  const handleInputChange = e => {\n    // Update the editedData state as the user types into the input fields\n    setEditedData({\n      ...editedData,\n      [e.target.name]: e.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center align-items-center mx-auto  m-3 \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex border border-primary justify-content-center align-items-center  flex-column \",\n      style: {\n        width: '98%',\n        height: '70vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: profile,\n          alt: \"\",\n          style: {\n            width: '5rem',\n            borderRadius: '50%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column\",\n          style: {\n            width: '20vw'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"firstName\",\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), editMode ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"firstName\",\n            className: \"p-1\",\n            name: \"firstName\",\n            value: editedData.firstName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"firstName\",\n            className: \"p-1\",\n            value: data.firstName,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column \",\n          style: {\n            width: '20vw'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"lastName\",\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), editMode ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"lastName\",\n            className: \"p-1\",\n            name: \"lastName\",\n            value: editedData.lastName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"lastName\",\n            className: \"p-1\",\n            value: data.lastName,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column \",\n          style: {\n            width: '20vw'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"email\",\n            className: \"p-1\",\n            value: data.email,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveClick,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCancelClick,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEditClick,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"7ohSTNK6Gk1uHdRBUYiEDeznY0g=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","profile","axios","jsxDEV","_jsxDEV","Profile","props","_s","userid","userID","console","log","data","setData","editMode","setEditMode","editedData","setEditedData","url","encodeURIComponent","fetchData","response","fetch","ok","Error","json","error","handleSaveClick","put","handleEditClick","handleCancelClick","handleInputChange","e","target","name","value","className","children","style","width","height","src","alt","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","firstName","onChange","readOnly","lastName","email","onClick","_c","$RefreshReg$"],"sources":["/Users/dharmaseervi/Desktop/dharmaseervi/client-side/src/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport profile from '../assets/female_doctor.webp';\nimport axios from 'axios';\n\nconst Profile = (props) => {\n    const userid = props.userID.userID;\n    console.log('userid for backend from profile', userid);\n\n    const [data, setData] = useState([]);\n    const [editMode, setEditMode] = useState(false);\n    const [editedData, setEditedData] = useState({});\n    console.log(editedData);\n\n    const url = `http://localhost:5050/auth/userdata?data=${encodeURIComponent(userid)}`;\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch(url);\n                if (!response.ok) {\n                    throw new Error('Failed to fetch user data');\n                }\n                const data = await response.json();\n                setData(data);\n                setEditedData(data); // Initialize editedData with the fetched data\n            } catch (error) {\n                console.log(error);\n            }\n        };\n\n        fetchData();\n    }, [url]);\n\n    const handleSaveClick = async () => {\n        try {\n            const response = await axios.put(`/api/update-profile/${userid}`, editedData);\n            setData(response.data);\n            setEditMode(false);\n        } catch (error) {\n            console.error('Error updating user profile:', error);\n        }\n    };\n\n    const handleEditClick = () => {\n        setEditMode(true);\n    };\n\n\n    const handleCancelClick = () => {\n        // Reset editedData to match the current data\n        setEditedData(data);\n        setEditMode(false);\n    };\n\n    const handleInputChange = (e) => {\n        // Update the editedData state as the user types into the input fields\n        setEditedData({\n            ...editedData,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    return (\n        <div className='d-flex justify-content-center align-items-center mx-auto  m-3 '>\n            <div className='d-flex border border-primary justify-content-center align-items-center  flex-column ' style={{ width: '98%', height: '70vh' }}>\n                <div >\n                    <img src={profile} alt=\"\" style={{ width: '5rem', borderRadius: '50%' }} />\n                </div>\n                <div>\n                    <div className=\"d-flex flex-column\" style={{ width: '20vw' }}>\n                        <label htmlFor=\"firstName\">First Name</label>\n                        {editMode ? (\n                            <input\n                                type=\"text\"\n                                id=\"firstName\"\n                                className=\"p-1\"\n                                name=\"firstName\"\n                                value={editedData.firstName}\n                                onChange={handleInputChange}\n                            />\n                        ) : (\n                            <input\n                                type=\"text\"\n                                id=\"firstName\"\n                                className=\"p-1\"\n                                value={data.firstName}\n                                readOnly\n                            />\n                        )}\n                    </div>\n                    <div className=\"d-flex flex-column \" style={{ width: '20vw' }}>\n                        <label htmlFor=\"lastName\">Last Name</label>\n                        {editMode ? (\n                            <input\n                                type=\"text\"\n                                id=\"lastName\"\n                                className=\"p-1\"\n                                name=\"lastName\"\n                                value={editedData.lastName}\n                                onChange={handleInputChange}\n                            />\n                        ) : (\n                            <input\n                                type=\"text\"\n                                id=\"lastName\"\n                                className=\"p-1\"\n                                value={data.lastName}\n                                readOnly\n                            />\n                        )}\n                    </div>\n                    <div className=\"d-flex flex-column \" style={{ width: '20vw' }}>\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"text\"\n                            id=\"email\"\n                            className=\"p-1\"\n                            value={data.email}\n                            readOnly\n                        />\n                    </div>\n                    {editMode ? (\n                        <div>\n                            <button onClick={handleSaveClick}>Save</button>\n                            <button onClick={handleCancelClick}>Cancel</button>\n                        </div>\n                    ) : (\n                        <button onClick={handleEditClick}>Edit</button>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}